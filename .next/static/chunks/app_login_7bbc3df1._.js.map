{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/113-2/Breakfast-final-project/app/login/D%3A/113-2/Breakfast-final-project/app/login/LoginContext.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from \"react\";\r\nimport { useSearchParams } from \"next/navigation\";\r\nimport Image from \"next/image\";\r\nimport { signIn } from \"next-auth/react\";\r\n\r\nexport default function LoginContent() {\r\n  const [formData, setFormData] = useState({ email: \"\", password: \"\" });\r\n  const [error, setError] = useState(\"\");\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [showSuccess, setShowSuccess] = useState(false);\r\n\r\n  const searchParams = useSearchParams();\r\n  const oauthError = searchParams?.get(\"error\");\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n\r\n    const { email, password } = formData;\r\n\r\n    if (!email || !password) {\r\n      setError(\"所有欄位皆為必填\");\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n\r\n    try {\r\n      const res = await signIn(\"credentials\", {\r\n        email,\r\n        password,\r\n        redirect: false,\r\n      });\r\n\r\n      if (res?.error) {\r\n        if (res.error === \"AccessDenied\") {\r\n          setError(\"❌ 此帳號已被停權\");\r\n        } else {\r\n          setError(\"登入失敗：\" + res.error);\r\n        }\r\n        return;\r\n      }\r\n\r\n      // 登入成功後顯示成功訊息，1.5秒後導向結帳頁面\r\n      setShowSuccess(true);\r\n      setTimeout(() => {\r\n        window.location.href = \"/checkout\";\r\n      }, 1500);\r\n    } catch (err) {\r\n      setError(\"登入過程發生錯誤\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-300 via-pink-400 to-red-400 px-4\">\r\n      <div className=\"max-w-md w-full bg-white/30 backdrop-blur-lg border border-white/30 shadow-2xl rounded-2xl p-8 transition-all\">\r\n        <h2 className=\"text-3xl font-extrabold text-center text-gray-700 drop-shadow mb-6\">\r\n          登入帳號\r\n        </h2>\r\n\r\n        {error && (\r\n          <div className=\"mb-4 text-red-600 text-sm text-center font-medium bg-red-100 p-2 rounded-md shadow-sm\">\r\n            ⚠️ {error}\r\n          </div>\r\n        )}\r\n\r\n        {oauthError === \"AccessDenied\" && (\r\n          <div className=\"mb-4 text-red-600 text-sm text-center font-medium bg-red-100 p-2 rounded-md shadow-sm\">\r\n            ❌ 此帳號已被停權，無法登入\r\n          </div>\r\n        )}\r\n\r\n        <form onSubmit={handleLogin} className=\"space-y-4 mb-6\">\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"Email\"\r\n            value={formData.email}\r\n            onChange={handleChange}\r\n            className=\"w-full px-4 py-2 rounded-md border border-gray-300\"\r\n            disabled={isSubmitting}\r\n            required\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"密碼\"\r\n            value={formData.password}\r\n            onChange={handleChange}\r\n            className=\"w-full px-4 py-2 rounded-md border border-gray-300\"\r\n            disabled={isSubmitting}\r\n            required\r\n          />\r\n          <button\r\n            type=\"submit\"\r\n            disabled={isSubmitting}\r\n            className=\"w-full bg-orange-500 text-white py-2 rounded-md hover:bg-orange-600 transition\"\r\n          >\r\n            {isSubmitting ? \"登入中...\" : \"登入\"}\r\n          </button>\r\n        </form>\r\n\r\n        {showSuccess && (\r\n          <div className=\"mb-4 text-green-700 text-center font-semibold\">\r\n            登入成功！即將跳轉…\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"space-y-3\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => signIn(\"google\", { callbackUrl: \"/\" })}\r\n            className=\"w-full bg-white text-gray-800 border border-gray-300 py-2 px-4 rounded-md flex items-center justify-center gap-2 shadow hover:bg-gray-50 transition\"\r\n          >\r\n            <Image src=\"/google.png\" alt=\"Google\" width={24} height={24} />\r\n            使用 Google 登入\r\n          </button>\r\n\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => signIn(\"github\", { callbackUrl: \"/\" })}\r\n            className=\"w-full bg-white text-gray-800 border border-gray-300 py-2 px-4 rounded-md flex items-center justify-center gap-2 shadow hover:bg-gray-50 transition\"\r\n          >\r\n            <Image src=\"/github.png\" alt=\"GitHub\" width={24} height={24} />\r\n            使用 GitHub 登入\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["useState","useSearchParams","Image","signIn","LoginContent","formData","setFormData","email","password","error","setError","isSubmitting","setIsSubmitting","showSuccess","setShowSuccess","searchParams","oauthError","get","handleChange","e","name","value","target","prev","handleLogin","preventDefault","res","redirect","setTimeout","window","location","href","err","callbackUrl"],"mappings":"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","debugId":null}},
    {"offset": {"line": 248, "column": 0}, "map": {"version":3,"sources":["file:///D:/113-2/Breakfast-final-project/app/login/D%3A/113-2/Breakfast-final-project/app/login/LoginClientwWrapper.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Suspense } from \"react\";\r\nimport LoginContent from \"./LoginContext\";\r\n\r\nexport default function LoginClientWrapper() {\r\n  return (\r\n    <Suspense fallback={<div className=\"text-center mt-10\">載入登入畫面中...</div>}>\r\n      <LoginContent />\r\n    </Suspense>\r\n  );\r\n}"],"names":["c","_c","Suspense","LoginContent","LoginClientWrapper","$","$i","Symbol","for","t0"],"mappings":";;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAEb,SAASC,QAAQ,QAAQ,OAAO;AAChC,OAAOC,YAAY,MAAM,gBAAgB;AAHzC,YAAY;;;;;AAKG;IAAA,MAAAE,CAAA,mLAAAJ,IAAAA,AAAA,EAAA;IAAA,IAAAI,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAA,IAAAI,EAAA;IAAA,IAAAJ,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAEXC,EAAA,iBAAA,2VAAC,WAAQ;YAAW,QAAmD,CAAnD,eAAA,6LAAA,GAAmD;gBAApC,SAAmB,EAAnB,mBAAmB;0BAAC,UAAU,EAA7C,GAAmD;;;;;;sBACrE,4UAAC,UAAY,GACf,EAFC,QAAQ,CAEE;;;;;;;;;;QAAAJ,CAAA,CAAA,EAAA,GAAAI,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAJ,CAAA,CAAA,EAAA;IAAA;IAAA,OAFXI,EAEW;AAAA;KAJAL,mBAAA","debugId":null}},
    {"offset": {"line": 307, "column": 0}, "map": {"version":3,"sources":["file:///D:/113-2/Breakfast-final-project/app/login/D%3A/113-2/Breakfast-final-project/app/login/page.tsx"],"sourcesContent":["'use client';\r\n\r\n// app/login/page.tsx\r\nimport LoginClientWrapper from \"./LoginClientwWrapper\";\r\n\r\nexport default function LoginPage() {\r\n  return <LoginClientWrapper />;\r\n}"],"names":["c","_c","LoginClientWrapper","LoginPage","$","$i","Symbol","for","t0"],"mappings":";;;;AAEA,qBAAA;AAAA,SAAAA,CAAA,IAAAC,EAAA;AACA,OAAOC,kBAAkB,MAAM,uBAAuB;AAHtD,YAAY;;;;AAKG;IAAA,MAAAE,CAAA,mLAAAH,IAAAA,AAAA,EAAA;IAAA,IAAAG,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAA,IAAAI,EAAA;IAAA,IAAAJ,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QACNC,EAAA,iBAAA,oUAAC,WAAkB,GAAG;;;;;QAAAJ,CAAA,CAAA,EAAA,GAAAI,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAJ,CAAA,CAAA,EAAA;IAAA;IAAA,OAAtBI,EAAsB;AAAA;KADhBL,UAAA","debugId":null}}]
}