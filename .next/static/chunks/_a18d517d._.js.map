{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/113-2/Breakfast-final-project/lib/mqttClient.js"],"sourcesContent":["// lib/mqttClient.js\r\nimport mqtt from \"mqtt\";\r\n\r\nlet client = null;\r\n\r\nexport function getMqttClient() {\r\n  if (!client) {\r\n    client = mqtt.connect(\"wss://broker.emqx.io:8084/mqtt\", {\r\n      clientId: \"kitchen-client-\" + Math.random().toString(16).substr(2, 8),\r\n      clean: true,\r\n      will: {\r\n        topic: \"nuu/shisa/beigo/notify/orderstatus\",\r\n        payload: \"kitchen-client disconnected unexpectedly\",\r\n        qos: 1,\r\n        retain: false,\r\n      },\r\n    });\r\n\r\n    client.on(\"connect\", () => {\r\n      console.log(\"✅ MQTT connected\");\r\n    });\r\n\r\n    client.on(\"reconnect\", () => {\r\n      console.log(\"🔄 Reconnecting to MQTT...\");\r\n    });\r\n\r\n    client.on(\"close\", () => {\r\n      console.log(\"📴 MQTT connection closed\");\r\n    });\r\n\r\n    client.on(\"error\", (err) => {\r\n      console.error(\"❌ MQTT error:\", err);\r\n    });\r\n  }\r\n\r\n  return client;\r\n}\r\n"],"names":[],"mappings":"AAAA,oBAAoB;;;;AACpB;;AAEA,IAAI,SAAS;AAEN,SAAS;IACd,IAAI,CAAC,QAAQ;QACX,SAAS,8IAAA,CAAA,UAAI,CAAC,OAAO,CAAC,kCAAkC;YACtD,UAAU,oBAAoB,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG;YACnE,OAAO;YACP,MAAM;gBACJ,OAAO;gBACP,SAAS;gBACT,KAAK;gBACL,QAAQ;YACV;QACF;QAEA,OAAO,EAAE,CAAC,WAAW;YACnB,QAAQ,GAAG,CAAC;QACd;QAEA,OAAO,EAAE,CAAC,aAAa;YACrB,QAAQ,GAAG,CAAC;QACd;QAEA,OAAO,EAAE,CAAC,SAAS;YACjB,QAAQ,GAAG,CAAC;QACd;QAEA,OAAO,EAAE,CAAC,SAAS,CAAC;YAClB,QAAQ,KAAK,CAAC,iBAAiB;QACjC;IACF;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///D:/113-2/Breakfast-final-project/app/actions/menu.js"],"sourcesContent":["// app/actions/menu.js\r\n'use server'; // 標記為 Server Action\r\n\r\nimport { prisma } from '@/lib/prisma'; // 引入 Prisma 客戶端\r\nimport { promises as fs } from 'fs'; // 引入 Node.js 的檔案系統模組\r\nimport path from 'path'; // 引入 Node.js 的路徑模組\r\n\r\n// 如果未來有單獨上傳圖片的需求，可以填充這個函數\r\n// 目前，圖片處理會整合到 addMenuItem 中\r\nexport const uploadMenuImage = async (body) => {\r\n    console.warn(\"uploadMenuImage 函數目前未實作，圖片處理已整合到 addMenuItem。\");\r\n    return null;\r\n};\r\n\r\n/**\r\n * 管理員新增菜單項目\r\n * 接收 FormData 物件，處理圖片上傳並將菜單資訊存入資料庫。\r\n * @param {FormData} formData - 包含菜單名稱、價格和圖片檔案的 FormData 物件。\r\n * @returns {Promise<{ success: boolean, message: string, data?: any }>}\r\n */\r\nexport const addMenuItem = async (formData) => {\r\n  const name = formData.get('name');\r\n  const price = formData.get('price');\r\n  const imageFile = formData.get('image'); // 獲取 File 物件\r\n\r\n  // 1. 數據驗證\r\n  if (!name || typeof name !== 'string' || name.trim() === '') {\r\n    return { success: false, message: '菜單名稱是必填項。' };\r\n  }\r\n  if (!price || isNaN(parseFloat(price)) || parseFloat(price) <= 0) {\r\n    return { success: false, message: '價格必須是有效的正數。' };\r\n  }\r\n  if (!(imageFile instanceof File) || imageFile.size === 0) {\r\n    return { success: false, message: '圖片檔案是必填項。' };\r\n  }\r\n\r\n  try {\r\n    // 2. 處理圖片儲存到 public 資料夾\r\n    // 為了避免檔名衝突，給圖片生成一個唯一檔名\r\n    const fileExtension = path.extname(imageFile.name); // 獲取原始副檔名\r\n    const uniqueFileName = `${Date.now()}-${Math.random().toString(36).substring(2, 8)}${fileExtension}`;\r\n    \r\n    // 定義圖片上傳的目標目錄：/public/uploads\r\n    // process.cwd() 返回 Node.js 進程的當前工作目錄（即專案根目錄）\r\n    const uploadDir = path.join(process.cwd(), 'public', 'uploads');\r\n    const filePath = path.join(uploadDir, uniqueFileName); // 完整檔案路徑\r\n\r\n    // 檢查並創建上傳目錄 (如果 'public/uploads' 不存在)\r\n    await fs.mkdir(uploadDir, { recursive: true });\r\n\r\n    // 將圖片檔案的緩衝區寫入磁碟\r\n    const bytes = await imageFile.arrayBuffer(); // 將 File 物件轉換為 ArrayBuffer\r\n    const buffer = Buffer.from(bytes); // 將 ArrayBuffer 轉換為 Node.js Buffer\r\n    await fs.writeFile(filePath, buffer);\r\n\r\n    // 圖片的公開 URL 路徑，這是 Next.js 會提供的路徑\r\n    const imageUrl = `/uploads/${uniqueFileName}`;\r\n\r\n    // 3. 將菜單資訊存入資料庫\r\n    const newMenuItem = await prisma.MenuItem.create({ // 注意：這裡應該是 MenuItem 模型\r\n      data: {\r\n        name: name.trim(), // 清除名稱前後空白\r\n        price: parseFloat(price), // 確保價格是數字類型\r\n        imageUrl, // 存儲圖片的相對路徑\r\n      },\r\n    });\r\n\r\n    // 4. 返回成功訊息\r\n    return { success: true, message: '菜單新增成功！', data: newMenuItem };\r\n\r\n  } catch (error) {\r\n    console.error('新增菜單失敗:', error);\r\n\r\n    // 處理 Prisma 特定的錯誤，例如名稱重複 (P2002)\r\n    if (error.code === 'P2002' && error.meta?.target?.includes('name')) {\r\n      return { success: false, message: '菜單名稱已存在，請使用不同的名稱。' };\r\n    }\r\n    // 其他一般錯誤\r\n    return { success: false, message: `新增菜單時發生錯誤: ${error.message || '未知錯誤'}` };\r\n  }\r\n};\r\n\r\nexport const getMenuItems = async () => {\r\n    // TODO: 這裡未來會實作取得所有菜單的邏輯 (使用 Prisma)\r\n    return null;\r\n};\r\n\r\nexport const editMenuItem = async (body, menuId) => {\r\n    // TODO: 這裡未來會實作編輯菜單的邏輯 (使用 Prisma)\r\n    return null;\r\n};"],"names":[],"mappings":";;;;;;IAkFa,eAAA,WAAA,GAAA,CAAA,GAAA,yNAAA,CAAA,wBAAA,EAAA,8CAAA,yNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,yNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file:///D:/113-2/Breakfast-final-project/app/actions/order.js"],"sourcesContent":["// app/actions/order.js\r\n\r\nexport const addOrder = async (body) => {\r\n  const response = await fetch(\"/api/order/checkout\", {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(body),\r\n  });\r\n\r\n  if (!response.ok) {\r\n    throw new Error(\"送出訂單失敗\");\r\n  }\r\n\r\n  return response.json();\r\n};\r\n\r\n// 其他函式目前先保留 null，未來可以實作\r\nexport const getCustomerOrder = async (customerId) => {\r\n  return null;\r\n};\r\nexport const editOrderStatus = async (body, orderId) => {\r\n  const response = await fetch(`/api/order/${orderId}/status`, {\r\n    method: \"PATCH\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(body),\r\n  });\r\n\r\n  if (!response.ok) {\r\n    console.error(\"❌ 更新訂單失敗\", response.status);\r\n    return null;\r\n  }\r\n\r\n  return await response.json();\r\n};\r\n\r\nexport const getPendingOrders = async () => {\r\n  const response = await fetch(`/api/order?status=PENDING,PREPARING`);\r\n  if (!response.ok) {\r\n    console.error(\"❌ 無法取得訂單\", response.status);\r\n    return null;\r\n  }\r\n  return await response.json();\r\n};\r\nexport const getKitchenOrders = async () => {\r\n  return null;\r\n};\r\nexport const getReadyOrders = async () => {\r\n  return null;\r\n};\r\nexport const getOrderById = async () => {\r\n  return null;\r\n};\r\n  "],"names":[],"mappings":"AAAA,uBAAuB;;;;;;;;;;AAEhB,MAAM,WAAW,OAAO;IAC7B,MAAM,WAAW,MAAM,MAAM,uBAAuB;QAClD,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;IACvB;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,mBAAmB,OAAO;IACrC,OAAO;AACT;AACO,MAAM,kBAAkB,OAAO,MAAM;IAC1C,MAAM,WAAW,MAAM,MAAM,CAAC,WAAW,EAAE,QAAQ,OAAO,CAAC,EAAE;QAC3D,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;IACvB;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,QAAQ,KAAK,CAAC,YAAY,SAAS,MAAM;QACzC,OAAO;IACT;IAEA,OAAO,MAAM,SAAS,IAAI;AAC5B;AAEO,MAAM,mBAAmB;IAC9B,MAAM,WAAW,MAAM,MAAM,CAAC,mCAAmC,CAAC;IAClE,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,QAAQ,KAAK,CAAC,YAAY,SAAS,MAAM;QACzC,OAAO;IACT;IACA,OAAO,MAAM,SAAS,IAAI;AAC5B;AACO,MAAM,mBAAmB;IAC9B,OAAO;AACT;AACO,MAAM,iBAAiB;IAC5B,OAAO;AACT;AACO,MAAM,eAAe;IAC1B,OAAO;AACT","debugId":null}},
    {"offset": {"line": 132, "column": 0}, "map": {"version":3,"sources":["file:///D:/113-2/Breakfast-final-project/app/checkout/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useSession } from \"next-auth/react\";\r\nimport { getMqttClient } from \"@/lib/mqttClient\";\r\nimport { getMenuItems } from \"@/app/actions/menu\";\r\nimport { addOrder } from \"@/app/actions/order\";\r\nimport {\r\n  getOrderCheckoutTopic,\r\n  getOrderStatusWildcardTopic,\r\n} from \"@/utils/mqttTopic\";\r\n\r\nexport default function CheckoutPage() {\r\n  const { data: session, status } = useSession();\r\n  const [cart, setCart] = useState([]);\r\n  const [menuItems, setMenuItems] = useState([]);\r\n  const [specialRequests, setSpecialRequests] = useState({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [topic, setTopic] = useState(\"\");\r\n  const [statusLog, setStatusLog] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (status === \"loading\") return;\r\n\r\n    if (status === \"unauthenticated\") {\r\n      alert(\"請先登入\");\r\n      window.location.href = \"/login\";\r\n      return;\r\n    }\r\n\r\n    const savedCart = sessionStorage.getItem(\"cart\");\r\n    if (savedCart) {\r\n      setCart(JSON.parse(savedCart));\r\n    } else {\r\n      window.location.href = \"/\";\r\n      return;\r\n    }\r\n\r\n    const fetchMenu = async () => {\r\n      try {\r\n        let data = await getMenuItems();\r\n        if (!data) {\r\n          const response = await fetch(\"/api/menu\");\r\n          data = await response.json();\r\n        }\r\n        setMenuItems(data);\r\n      } catch (err) {\r\n        alert(\"取得菜單失敗\");\r\n      }\r\n    };\r\n\r\n    setTopic(getOrderCheckoutTopic());\r\n    fetchMenu();\r\n  }, [status]);\r\n\r\n  // ✅ MQTT 訂閱：訂單狀態更新\r\n  useEffect(() => {\r\n    if (!session?.user?.id) return;\r\n    const client = getMqttClient();\r\n    const statusTopic = getOrderStatusWildcardTopic(session.user.id);\r\n\r\n    const handleMessage = (t, message) => {\r\n      try {\r\n        const payload = JSON.parse(message.toString());\r\n        console.log(\"📥 MQTT 訂單狀態更新:\", payload);\r\n        setStatusLog((prev) => [...prev, payload]);\r\n      } catch (err) {\r\n        console.error(\"❌ 解析 MQTT 訊息錯誤:\", err);\r\n      }\r\n    };\r\n\r\n    client.subscribe(statusTopic, (err) => {\r\n      if (err) console.error(\"❌ 訂閱失敗:\", err);\r\n      else console.log(\"📡 訂閱:\", statusTopic);\r\n    });\r\n\r\n    client.on(\"message\", handleMessage);\r\n\r\n    return () => {\r\n      client.unsubscribe(statusTopic);\r\n      client.removeListener(\"message\", handleMessage);\r\n    };\r\n  }, [session]);\r\n\r\n  const getTotalPrice = () => {\r\n    return cart.reduce((total, cartItem) => {\r\n      const menuItem = menuItems.find((item) => item.id === cartItem.id);\r\n      return total + (menuItem?.price || 0) * cartItem.quantity;\r\n    }, 0);\r\n  };\r\n\r\n  const handleSubmitOrder = async (e) => {\r\n    e.preventDefault();\r\n    setIsSubmitting(true);\r\n\r\n    try {\r\n      const orderItems = cart.map((item) => ({\r\n        menuItemId: item.id,\r\n        quantity: item.quantity,\r\n        specialRequest: specialRequests[item.id] || \"\",\r\n      }));\r\n\r\n      const customerId = session?.user?.id;\r\n      let orderData = await addOrder({ orderItems, customerId });\r\n\r\n      if (!orderData) {\r\n        const response = await fetch(`/api/order/checkout`, {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({ orderItems, customerId }),\r\n        });\r\n\r\n        if (!response.ok) {\r\n          alert(\"送出訂單失敗\");\r\n          return;\r\n        }\r\n        orderData = await response.json();\r\n      }\r\n\r\n      // ✅ 發佈 MQTT 訂單訊息給廚房\r\n      const client = getMqttClient();\r\n      client.publish(topic, JSON.stringify(orderData));\r\n      console.log(\"📤 已發佈訂單至:\", topic);\r\n\r\n      sessionStorage.removeItem(\"cart\");\r\n      window.location.href = \"/orders\";\r\n    } catch (err) {\r\n      alert(\"送出訂單失敗\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-6\">\r\n      <h1 className=\"text-3xl font-bold text-gray-800 mb-8 text-center\">確認訂單</h1>\r\n\r\n      {cart.length === 0 ? (\r\n        <div className=\"text-center text-gray-500 text-lg mt-20\">\r\n          購物車目前是空的，請先選擇餐點。\r\n        </div>\r\n      ) : (\r\n        <form\r\n          onSubmit={handleSubmitOrder}\r\n          className=\"max-w-2xl mx-auto bg-white shadow-lg rounded-xl p-6 space-y-6\"\r\n        >\r\n          <h2 className=\"text-xl font-semibold text-gray-700\">訂單明細</h2>\r\n          <ul className=\"divide-y\">\r\n            {cart.map((cartItem) => {\r\n              const menuItem = menuItems.find((item) => item.id === cartItem.id);\r\n              if (!menuItem) return null;\r\n              return (\r\n                <li key={cartItem.id} className=\"py-4 space-y-2\">\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <span className=\"text-gray-800 font-medium\">\r\n                      {menuItem.name} × {cartItem.quantity}\r\n                    </span>\r\n                    <span className=\"text-right font-semibold text-gray-700\">\r\n                      ${ (menuItem.price * cartItem.quantity).toFixed(2) }\r\n                    </span>\r\n                  </div>\r\n                  <div>\r\n                    <label\r\n                      htmlFor={`special-request-${cartItem.id}`}\r\n                      className=\"block text-sm text-gray-500 mb-1\"\r\n                    >\r\n                      備註（可選）\r\n                    </label>\r\n                    <textarea\r\n                      id={`special-request-${cartItem.id}`}\r\n                      className=\"w-full border rounded-md p-2 text-sm text-gray-700 focus:ring-2 focus:ring-blue-300 resize-none\"\r\n                      rows={2}\r\n                      placeholder=\"例如：去冰、少糖...\"\r\n                      value={specialRequests[cartItem.id] || \"\"}\r\n                      onChange={(e) =>\r\n                        setSpecialRequests((prev) => ({\r\n                          ...prev,\r\n                          [cartItem.id]: e.target.value,\r\n                        }))\r\n                      }\r\n                    />\r\n                  </div>\r\n                </li>\r\n              );\r\n            })}\r\n          </ul>\r\n\r\n          <div className=\"border-t pt-4 text-lg font-bold flex justify-between\">\r\n            <span>總金額：</span>\r\n            <span>${getTotalPrice().toFixed(2)}</span>\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            disabled={isSubmitting || cart.length === 0}\r\n            className=\"w-full bg-gradient-to-r from-pink-500 to-red-500 text-white py-3 rounded-md shadow hover:opacity-90 disabled:bg-gray-400 transition duration-300\"\r\n          >\r\n            {isSubmitting ? \"正在送出訂單...\" : \"送出訂單\"}\r\n          </button>\r\n\r\n          {/* ✅ 顯示訂單狀態更新 */}\r\n          {statusLog.length > 0 && (\r\n            <div className=\"mt-6 border-t pt-4\">\r\n              <h3 className=\"text-md font-semibold mb-2\">訂單狀態更新：</h3>\r\n              <ul className=\"text-sm text-gray-600 list-disc pl-5 space-y-1\">\r\n                {statusLog.map((log, index) => (\r\n                  <li key={index}>\r\n                    {log.status}（{new Date(log.updatedAt || Date.now()).toLocaleTimeString()}）\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}