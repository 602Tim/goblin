(globalThis.TURBOPACK = globalThis.TURBOPACK || []).push([typeof document === "object" ? document.currentScript : undefined, {

"[project]/app/actions/data:fa2f6b [app-client] (ecmascript) <text/javascript>": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname, k: __turbopack_refresh__, m: module } = __turbopack_context__;
{
/* __next_internal_action_entry_do_not_use__ [{"7fcf98468f5917bf8f7794860eddebbc2adcf0c623":"getMenuItems"},"app/actions/menu.js",""] */ __turbopack_context__.s({
    "getMenuItems": (()=>getMenuItems)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var getMenuItems = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("7fcf98468f5917bf8f7794860eddebbc2adcf0c623", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "getMenuItems"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vbWVudS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBhcHAvYWN0aW9ucy9tZW51LmpzXG4ndXNlIHNlcnZlcic7XG5cbi8vIOaomeiomOeCuiBTZXJ2ZXIgQWN0aW9uXG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tICdAL2xpYi9wcmlzbWEnOyAvLyDlvJXlhaUgUHJpc21hIOWuouaItuerr1xuaW1wb3J0IHsgcHJvbWlzZXMgYXMgZnMgfSBmcm9tICdmcyc7IC8vIOW8leWFpSBOb2RlLmpzIOeahOaqlOahiOezu+e1seaooee1hFxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7IC8vIOW8leWFpSBOb2RlLmpzIOeahOi3r+W+keaooee1hFxuXG4vLyDlpoLmnpzmnKrkvobmnInllq7njajkuIrlgrPlnJbniYfnmoTpnIDmsYLvvIzlj6/ku6XloavlhYXpgJnlgIvlh73mlbhcbi8vIOebruWJje+8jOWclueJh+iZleeQhuacg+aVtOWQiOWIsCBhZGRNZW51SXRlbSDkuK1cbmV4cG9ydCBjb25zdCB1cGxvYWRNZW51SW1hZ2UgPSBhc3luYyBib2R5ID0+IHtcbiAgY29uc29sZS53YXJuKFwidXBsb2FkTWVudUltYWdlIOWHveaVuOebruWJjeacquWvpuS9nO+8jOWclueJh+iZleeQhuW3suaVtOWQiOWIsCBhZGRNZW51SXRlbeOAglwiKTtcbiAgcmV0dXJuIG51bGw7XG59O1xuXG4vKipcclxuICog566h55CG5ZOh5paw5aKe6I+c5Zau6aCF55uuXHJcbiAqIOaOpeaUtiBGb3JtRGF0YSDnianku7bvvIzomZXnkIblnJbniYfkuIrlgrPkuKblsIfoj5zllq7os4foqIrlrZjlhaXos4fmlpnluqvjgIJcclxuICogQHBhcmFtIHtGb3JtRGF0YX0gZm9ybURhdGEgLSDljIXlkKvoj5zllq7lkI3nqLHjgIHlg7nmoLzlkozlnJbniYfmqpTmoYjnmoQgRm9ybURhdGEg54mp5Lu244CCXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbiwgbWVzc2FnZTogc3RyaW5nLCBkYXRhPzogYW55IH0+fVxyXG4gKi9cbmV4cG9ydCBjb25zdCBhZGRNZW51SXRlbSA9IGFzeW5jIGZvcm1EYXRhID0+IHtcbiAgY29uc3QgbmFtZSA9IGZvcm1EYXRhLmdldCgnbmFtZScpO1xuICBjb25zdCBwcmljZSA9IGZvcm1EYXRhLmdldCgncHJpY2UnKTtcbiAgY29uc3QgaW1hZ2VGaWxlID0gZm9ybURhdGEuZ2V0KCdpbWFnZScpOyAvLyDnjbLlj5YgRmlsZSDnianku7ZcblxuICAvLyAxLiDmlbjmk5rpqZforYlcbiAgaWYgKCFuYW1lIHx8IHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCBuYW1lLnRyaW0oKSA9PT0gJycpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBtZXNzYWdlOiAn6I+c5Zau5ZCN56ix5piv5b+F5aGr6aCF44CCJ1xuICAgIH07XG4gIH1cbiAgaWYgKCFwcmljZSB8fCBpc05hTihwYXJzZUZsb2F0KHByaWNlKSkgfHwgcGFyc2VGbG9hdChwcmljZSkgPD0gMCkge1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIG1lc3NhZ2U6ICflg7nmoLzlv4XpoIjmmK/mnInmlYjnmoTmraPmlbjjgIInXG4gICAgfTtcbiAgfVxuICBpZiAoIShpbWFnZUZpbGUgaW5zdGFuY2VvZiBGaWxlKSB8fCBpbWFnZUZpbGUuc2l6ZSA9PT0gMCkge1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIG1lc3NhZ2U6ICflnJbniYfmqpTmoYjmmK/lv4XloavpoIXjgIInXG4gICAgfTtcbiAgfVxuICB0cnkge1xuICAgIC8vIDIuIOiZleeQhuWclueJh+WEsuWtmOWIsCBwdWJsaWMg6LOH5paZ5aS+XG4gICAgLy8g54K65LqG6YG/5YWN5qqU5ZCN6KGd56qB77yM57Wm5ZyW54mH55Sf5oiQ5LiA5YCL5ZSv5LiA5qqU5ZCNXG4gICAgY29uc3QgZmlsZUV4dGVuc2lvbiA9IHBhdGguZXh0bmFtZShpbWFnZUZpbGUubmFtZSk7IC8vIOeNsuWPluWOn+Wni+WJr+aqlOWQjVxuICAgIGNvbnN0IHVuaXF1ZUZpbGVOYW1lID0gYCR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgOCl9JHtmaWxlRXh0ZW5zaW9ufWA7XG5cbiAgICAvLyDlrprnvqnlnJbniYfkuIrlgrPnmoTnm67mqJnnm67pjITvvJovcHVibGljL3VwbG9hZHNcbiAgICAvLyBwcm9jZXNzLmN3ZCgpIOi/lOWbniBOb2RlLmpzIOmAsueoi+eahOeVtuWJjeW3peS9nOebrumMhO+8iOWNs+WwiOahiOagueebrumMhO+8iVxuICAgIGNvbnN0IHVwbG9hZERpciA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAncHVibGljJywgJ3VwbG9hZHMnKTtcbiAgICBjb25zdCBmaWxlUGF0aCA9IHBhdGguam9pbih1cGxvYWREaXIsIHVuaXF1ZUZpbGVOYW1lKTsgLy8g5a6M5pW05qqU5qGI6Lev5b6RXG5cbiAgICAvLyDmqqLmn6XkuKblibXlu7rkuIrlgrPnm67pjIQgKOWmguaenCAncHVibGljL3VwbG9hZHMnIOS4jeWtmOWcqClcbiAgICBhd2FpdCBmcy5ta2Rpcih1cGxvYWREaXIsIHtcbiAgICAgIHJlY3Vyc2l2ZTogdHJ1ZVxuICAgIH0pO1xuXG4gICAgLy8g5bCH5ZyW54mH5qqU5qGI55qE57ep6KGd5Y2A5a+r5YWl56OB56KfXG4gICAgY29uc3QgYnl0ZXMgPSBhd2FpdCBpbWFnZUZpbGUuYXJyYXlCdWZmZXIoKTsgLy8g5bCHIEZpbGUg54mp5Lu26L2J5o+b54K6IEFycmF5QnVmZmVyXG4gICAgY29uc3QgYnVmZmVyID0gQnVmZmVyLmZyb20oYnl0ZXMpOyAvLyDlsIcgQXJyYXlCdWZmZXIg6L2J5o+b54K6IE5vZGUuanMgQnVmZmVyXG4gICAgYXdhaXQgZnMud3JpdGVGaWxlKGZpbGVQYXRoLCBidWZmZXIpO1xuXG4gICAgLy8g5ZyW54mH55qE5YWs6ZaLIFVSTCDot6/lvpHvvIzpgJnmmK8gTmV4dC5qcyDmnIPmj5DkvpvnmoTot6/lvpFcbiAgICBjb25zdCBpbWFnZVVybCA9IGAvdXBsb2Fkcy8ke3VuaXF1ZUZpbGVOYW1lfWA7XG5cbiAgICAvLyAzLiDlsIfoj5zllq7os4foqIrlrZjlhaXos4fmlpnluqtcbiAgICBjb25zdCBuZXdNZW51SXRlbSA9IGF3YWl0IHByaXNtYS5NZW51SXRlbS5jcmVhdGUoe1xuICAgICAgLy8g5rOo5oSP77ya6YCZ6KOh5oeJ6Kmy5pivIE1lbnVJdGVtIOaooeWei1xuICAgICAgZGF0YToge1xuICAgICAgICBuYW1lOiBuYW1lLnRyaW0oKSxcbiAgICAgICAgLy8g5riF6Zmk5ZCN56ix5YmN5b6M56m655m9XG4gICAgICAgIHByaWNlOiBwYXJzZUZsb2F0KHByaWNlKSxcbiAgICAgICAgLy8g56K65L+d5YO55qC85piv5pW45a2X6aGe5Z6LXG4gICAgICAgIGltYWdlVXJsIC8vIOWtmOWEsuWclueJh+eahOebuOWwjei3r+W+kVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gNC4g6L+U5Zue5oiQ5Yqf6KiK5oGvXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBtZXNzYWdlOiAn6I+c5Zau5paw5aKe5oiQ5Yqf77yBJyxcbiAgICAgIGRhdGE6IG5ld01lbnVJdGVtXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfmlrDlop7oj5zllq7lpLHmlZc6JywgZXJyb3IpO1xuXG4gICAgLy8g6JmV55CGIFByaXNtYSDnibnlrprnmoTpjK/oqqTvvIzkvovlpoLlkI3nqLHph43opIcgKFAyMDAyKVxuICAgIGlmIChlcnJvci5jb2RlID09PSAnUDIwMDInICYmIGVycm9yLm1ldGE/LnRhcmdldD8uaW5jbHVkZXMoJ25hbWUnKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIG1lc3NhZ2U6ICfoj5zllq7lkI3nqLHlt7LlrZjlnKjvvIzoq4vkvb/nlKjkuI3lkIznmoTlkI3nqLHjgIInXG4gICAgICB9O1xuICAgIH1cbiAgICAvLyDlhbbku5bkuIDoiKzpjK/oqqRcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBtZXNzYWdlOiBg5paw5aKe6I+c5Zau5pmC55m855Sf6Yyv6KqkOiAke2Vycm9yLm1lc3NhZ2UgfHwgJ+acquefpemMr+iqpCd9YFxuICAgIH07XG4gIH1cbn07XG5leHBvcnQgY29uc3QgZ2V0TWVudUl0ZW1zID0gYXN5bmMgKCkgPT4ge1xuICAvLyBUT0RPOiDpgJnoo6HmnKrkvobmnIPlr6bkvZzlj5blvpfmiYDmnInoj5zllq7nmoTpgo/ovK8gKOS9v+eUqCBQcmlzbWEpXG4gIHJldHVybiBudWxsO1xufTtcbmV4cG9ydCBjb25zdCBlZGl0TWVudUl0ZW0gPSBhc3luYyAoYm9keSwgbWVudUlkKSA9PiB7XG4gIC8vIFRPRE86IOmAmeijoeacquS+huacg+WvpuS9nOe3qOi8r+iPnOWWrueahOmCj+i8ryAo5L2/55SoIFByaXNtYSlcbiAgcmV0dXJuIG51bGw7XG59OyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoieVJBd0dhIn0=
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(module, globalThis.$RefreshHelpers$);
}
}}),
"[project]/app/actions/order.js [app-client] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname, k: __turbopack_refresh__, m: module } = __turbopack_context__;
{
// app/actions/order.js
__turbopack_context__.s({
    "addOrder": (()=>addOrder),
    "editOrderStatus": (()=>editOrderStatus),
    "getCustomerOrder": (()=>getCustomerOrder),
    "getKitchenOrders": (()=>getKitchenOrders),
    "getOrderById": (()=>getOrderById),
    "getPendingOrders": (()=>getPendingOrders),
    "getReadyOrders": (()=>getReadyOrders)
});
const addOrder = async (body)=>{
    const response = await fetch("/api/order/checkout", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify(body)
    });
    if (!response.ok) {
        throw new Error("送出訂單失敗");
    }
    return response.json();
};
const getCustomerOrder = async (customerId)=>{
    return null;
};
const editOrderStatus = async (body, orderId)=>{
    return null;
};
const getPendingOrders = async ()=>{
    return null;
};
const getKitchenOrders = async ()=>{
    return null;
};
const getReadyOrders = async ()=>{
    return null;
};
const getOrderById = async ()=>{
    return null;
};
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(module, globalThis.$RefreshHelpers$);
}
}}),
"[project]/app/checkout/page.jsx [app-client] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname, k: __turbopack_refresh__, m: module } = __turbopack_context__;
{
__turbopack_context__.s({
    "default": (()=>CheckoutPage)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$auth$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next-auth/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$hooks$2f$useMqttClient$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/hooks/useMqttClient.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$app$2f$actions$2f$data$3a$fa2f6b__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/app/actions/data:fa2f6b [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$app$2f$actions$2f$order$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/app/actions/order.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$utils$2f$mqttTopic$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/utils/mqttTopic.ts [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
"use client";
;
;
;
;
;
;
function CheckoutPage() {
    _s();
    const { data: session, status } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$auth$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useSession"])();
    const [cart, setCart] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])([]);
    const [menuItems, setMenuItems] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])([]);
    const [specialRequests, setSpecialRequests] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])({});
    const [isSubmitting, setIsSubmitting] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [topic, setTopic] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])("");
    const { publishMessage } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$hooks$2f$useMqttClient$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMqttClient"])({});
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "CheckoutPage.useEffect": ()=>{
            if (status === "loading") return; // 還在判斷登入狀態，先不做事
            if (status === "unauthenticated") {
                alert("請先登入");
                window.location.href = "/login";
                return;
            }
            const savedCart = sessionStorage.getItem("cart");
            if (savedCart) {
                setCart(JSON.parse(savedCart));
            } else {
                window.location.href = "/";
                return;
            }
            const fetchMenu = {
                "CheckoutPage.useEffect.fetchMenu": async ()=>{
                    try {
                        let data = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$app$2f$actions$2f$data$3a$fa2f6b__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["getMenuItems"])();
                        if (!data) {
                            const response = await fetch("/api/menu");
                            data = await response.json();
                        }
                        setMenuItems(data);
                    } catch (err) {
                        alert("取得菜單失敗");
                    }
                }
            }["CheckoutPage.useEffect.fetchMenu"];
            setTopic((0, __TURBOPACK__imported__module__$5b$project$5d2f$utils$2f$mqttTopic$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getOrderCheckoutTopic"])());
            fetchMenu();
        }
    }["CheckoutPage.useEffect"], [
        status
    ]);
    const getTotalPrice = ()=>{
        return cart.reduce((total, cartItem)=>{
            const menuItem = menuItems.find((item)=>item.id === cartItem.id);
            return total + (menuItem?.price || 0) * cartItem.quantity;
        }, 0);
    };
    const handleSubmitOrder = async (e)=>{
        e.preventDefault();
        setIsSubmitting(true);
        try {
            const orderItems = cart.map((item_0)=>({
                    menuItemId: item_0.id,
                    quantity: item_0.quantity,
                    specialRequest: specialRequests[item_0.id] || ""
                }));
            const customerId = session?.user?.id;
            let orderData = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$app$2f$actions$2f$order$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["addOrder"])({
                orderItems,
                customerId
            });
            if (!orderData) {
                const response_0 = await fetch(`/api/order/checkout`, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        orderItems,
                        customerId
                    })
                });
                if (!response_0.ok) {
                    alert("送出訂單失敗");
                    return;
                }
                orderData = await response_0.json();
            }
            publishMessage(topic, JSON.stringify(orderData));
            sessionStorage.removeItem("cart");
            window.location.href = "/orders";
        } catch (err_0) {
            alert("送出訂單失敗");
        } finally{
            setIsSubmitting(false);
        }
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "container mx-auto p-6",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("h1", {
                className: "text-3xl font-bold text-gray-800 mb-8 text-center",
                children: "確認訂單"
            }, void 0, false, {
                fileName: "[project]/app/checkout/page.jsx",
                lineNumber: 99,
                columnNumber: 13
            }, this),
            cart.length === 0 ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "text-center text-gray-500 text-lg mt-20",
                children: "購物車目前是空的，請先選擇餐點。"
            }, void 0, false, {
                fileName: "[project]/app/checkout/page.jsx",
                lineNumber: 101,
                columnNumber: 34
            }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("form", {
                onSubmit: handleSubmitOrder,
                className: "max-w-2xl mx-auto bg-white shadow-lg rounded-xl p-6 space-y-6",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("h2", {
                        className: "text-xl font-semibold text-gray-700",
                        children: "訂單明細"
                    }, void 0, false, {
                        fileName: "[project]/app/checkout/page.jsx",
                        lineNumber: 104,
                        columnNumber: 21
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("ul", {
                        className: "divide-y",
                        children: cart.map((cartItem_0)=>{
                            const menuItem_0 = menuItems.find((item_1)=>item_1.id === cartItem_0.id);
                            if (!menuItem_0) return null;
                            return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("li", {
                                className: "py-4 space-y-2",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex justify-between items-center",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: "text-gray-800 font-medium",
                                                children: [
                                                    menuItem_0.name,
                                                    " × ",
                                                    cartItem_0.quantity
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/app/checkout/page.jsx",
                                                lineNumber: 111,
                                                columnNumber: 41
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: "text-right font-semibold text-gray-700",
                                                children: [
                                                    "$",
                                                    (menuItem_0.price * cartItem_0.quantity).toFixed(2)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/app/checkout/page.jsx",
                                                lineNumber: 114,
                                                columnNumber: 41
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/app/checkout/page.jsx",
                                        lineNumber: 110,
                                        columnNumber: 37
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                htmlFor: `special-request-${cartItem_0.id}`,
                                                className: "block text-sm text-gray-500 mb-1",
                                                children: "備註（可選）"
                                            }, void 0, false, {
                                                fileName: "[project]/app/checkout/page.jsx",
                                                lineNumber: 119,
                                                columnNumber: 41
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("textarea", {
                                                id: `special-request-${cartItem_0.id}`,
                                                className: "w-full border rounded-md p-2 text-sm text-gray-700 focus:ring-2 focus:ring-blue-300 resize-none",
                                                rows: 2,
                                                placeholder: "例如：去冰、少糖...",
                                                value: specialRequests[cartItem_0.id] || "",
                                                onChange: (e_0)=>setSpecialRequests((prev)=>({
                                                            ...prev,
                                                            [cartItem_0.id]: e_0.target.value
                                                        }))
                                            }, void 0, false, {
                                                fileName: "[project]/app/checkout/page.jsx",
                                                lineNumber: 122,
                                                columnNumber: 41
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/app/checkout/page.jsx",
                                        lineNumber: 118,
                                        columnNumber: 37
                                    }, this)
                                ]
                            }, cartItem_0.id, true, {
                                fileName: "[project]/app/checkout/page.jsx",
                                lineNumber: 109,
                                columnNumber: 18
                            }, this);
                        })
                    }, void 0, false, {
                        fileName: "[project]/app/checkout/page.jsx",
                        lineNumber: 105,
                        columnNumber: 21
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "border-t pt-4 text-lg font-bold flex justify-between",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                children: "總金額："
                            }, void 0, false, {
                                fileName: "[project]/app/checkout/page.jsx",
                                lineNumber: 132,
                                columnNumber: 25
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                children: [
                                    "$",
                                    getTotalPrice().toFixed(2)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/app/checkout/page.jsx",
                                lineNumber: 133,
                                columnNumber: 25
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/app/checkout/page.jsx",
                        lineNumber: 131,
                        columnNumber: 21
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                        type: "submit",
                        disabled: isSubmitting || cart.length === 0,
                        className: "w-full bg-gradient-to-r from-pink-500 to-red-500 text-white py-3 rounded-md shadow hover:opacity-90 disabled:bg-gray-400 transition duration-300",
                        children: isSubmitting ? "正在送出訂單..." : "送出訂單"
                    }, void 0, false, {
                        fileName: "[project]/app/checkout/page.jsx",
                        lineNumber: 136,
                        columnNumber: 21
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/app/checkout/page.jsx",
                lineNumber: 103,
                columnNumber: 26
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/app/checkout/page.jsx",
        lineNumber: 98,
        columnNumber: 10
    }, this);
}
_s(CheckoutPage, "1a9BxWmpTGRD+ZlD9oxK9uJnBAE=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$auth$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useSession"],
        __TURBOPACK__imported__module__$5b$project$5d2f$hooks$2f$useMqttClient$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMqttClient"]
    ];
});
_c = CheckoutPage;
var _c;
__turbopack_context__.k.register(_c, "CheckoutPage");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(module, globalThis.$RefreshHelpers$);
}
}}),
}]);

//# sourceMappingURL=app_82545de4._.js.map