{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/113-2/Breakfast-final-project/app/menu/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\n\r\nexport default function MenuPage() {\r\n    const [menuItems, setMenuItems] = useState([]);\r\n    const [cart, setCart] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const getMenuItems = async () => {\r\n            try {\r\n                const response = await fetch(\"/api/menu\");\r\n                const data = await response.json();\r\n                setMenuItems(data);\r\n            } catch (err) {\r\n                console.error(err);\r\n            }\r\n        };\r\n        getMenuItems();\r\n    }, []);\r\n\r\n    const addToCart = (itemId) => {\r\n        setCart((prev) => {\r\n            const existing = prev.find((item) => item.id === itemId);\r\n            if (existing) {\r\n                return prev.map((item) =>\r\n                    item.id === itemId\r\n                        ? { ...item, quantity: item.quantity + 1 }\r\n                        : item\r\n                );\r\n            }\r\n            return [...prev, { id: itemId, quantity: 1 }];\r\n        });\r\n    };\r\n\r\n    const removeFromCart = (itemId) => {\r\n        setCart((prev) => {\r\n            const existing = prev.find((item) => item.id === itemId);\r\n            if (existing && existing.quantity > 1) {\r\n                return prev.map((item) =>\r\n                    item.id === itemId\r\n                        ? { ...item, quantity: item.quantity - 1 }\r\n                        : item\r\n                );\r\n            }\r\n            return prev.filter((item) => item.id !== itemId);\r\n        });\r\n    };\r\n\r\n    const getCartItemCount = (itemId) => {\r\n        return cart.find((item) => item.id === itemId)?.quantity || 0;\r\n    };\r\n\r\n    const getTotalItems = () => {\r\n        return cart.reduce((total, item) => total + item.quantity, 0);\r\n    };\r\n\r\n    const getTotalPrice = () => {\r\n        return cart.reduce((total, cartItem) => {\r\n            const menuItem = menuItems.find((item) => item.id === cartItem.id);\r\n            return total + (menuItem?.price || 0) * cartItem.quantity;\r\n        }, 0);\r\n    };\r\n    const handleCheckout = () => {\r\n        sessionStorage.setItem(\"cart\", JSON.stringify(cart));\r\n        window.location.href = \"/checkout\";\r\n    };\r\n    return (\r\n        <div className=\"min-h-screen bg-gradient-to-br from-orange-100 via-pink-100 to-red-100 px-4 sm:px-6 py-8\">\r\n            <div className=\"max-w-7xl mx-auto\">\r\n                <h1 className=\"text-3xl font-bold mb-6 text-center sm:text-left\">\r\n                    üçΩ ËèúÂñÆ\r\n                </h1>\r\n\r\n                <div className=\"flex flex-col lg:flex-row gap-6\">\r\n                    <div className=\"w-full lg:w-3/4\">\r\n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6\">\r\n                            {menuItems\r\n                                .filter((item) => item.isAvailable)\r\n                                .map((item) => (\r\n                                    <div\r\n                                        key={item.id}\r\n                                        className=\"bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition\"\r\n                                    >\r\n                                        {item.imageUrl && (\r\n                                            <Image\r\n                                                src={item.imageUrl}\r\n                                                alt={item.name}\r\n                                                width={400}\r\n                                                height={250}\r\n                                                className=\"w-full h-48 object-cover rounded-md mb-3\"\r\n                                            />\r\n                                        )}\r\n                                        <h3 className=\"font-bold text-lg text-gray-800\">\r\n                                            {item.name}\r\n                                        </h3>\r\n                                        <p className=\"text-sm text-gray-600 mb-2\">\r\n                                            {item.description}\r\n                                        </p>\r\n                                        <p className=\"text-pink-600 font-semibold text-lg mb-2\">\r\n                                            ${item.price.toFixed(2)}\r\n                                        </p>\r\n\r\n                                        <div className=\"flex items-center justify-center sm:justify-start mt-3\">\r\n                                            <button\r\n                                                onClick={() =>\r\n                                                    removeFromCart(item.id)\r\n                                                }\r\n                                                className=\"bg-gray-200 px-3 py-1 rounded-l disabled:opacity-50\"\r\n                                                disabled={\r\n                                                    getCartItemCount(\r\n                                                        item.id\r\n                                                    ) === 0\r\n                                                }\r\n                                            >\r\n                                                -\r\n                                            </button>\r\n                                            <span className=\"bg-gray-100 px-4 py-1\">\r\n                                                {getCartItemCount(item.id)}\r\n                                            </span>\r\n                                            <button\r\n                                                onClick={() =>\r\n                                                    addToCart(item.id)\r\n                                                }\r\n                                                className=\"bg-gray-200 px-3 py-1 rounded-r\"\r\n                                            >\r\n                                                +\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"w-full lg:w-1/4 bg-white shadow-lg rounded-lg p-5 h-fit sticky top-8\">\r\n                        <h2 className=\"text-xl font-bold mb-4 text-gray-800\">\r\n                            üõí ÊÇ®ÁöÑË®ÇÂñÆ\r\n                        </h2>\r\n\r\n                        {cart.length === 0 ? (\r\n                            <p className=\"text-gray-500\">ÁõÆÂâçË≥ºÁâ©ËªäÊòØÁ©∫ÁöÑ</p>\r\n                        ) : (\r\n                            <>\r\n                                <ul className=\"mb-4 divide-y divide-gray-200\">\r\n                                    {cart.map((cartItem) => {\r\n                                        const menuItem = menuItems.find(\r\n                                            (item) => item.id === cartItem.id\r\n                                        );\r\n                                        if (!menuItem) return null;\r\n\r\n                                        return (\r\n                                            <li\r\n                                                key={cartItem.id}\r\n                                                className=\"flex justify-between py-2\"\r\n                                            >\r\n                                                <span>\r\n                                                    {menuItem.name} √ó{\" \"}\r\n                                                    {cartItem.quantity}\r\n                                                </span>\r\n                                                <span>\r\n                                                    $\r\n                                                    {(\r\n                                                        menuItem.price *\r\n                                                        cartItem.quantity\r\n                                                    ).toFixed(2)}\r\n                                                </span>\r\n                                            </li>\r\n                                        );\r\n                                    })}\r\n                                </ul>\r\n\r\n                                <div className=\"border-t pt-3\">\r\n                                    <div className=\"flex justify-between font-bold mb-4\">\r\n                                        <span>Á∏ΩË®àÔºö</span>\r\n                                        <span>\r\n                                            ${getTotalPrice().toFixed(2)}\r\n                                        </span>\r\n                                    </div>\r\n\r\n                                    <button\r\n                                        onClick={handleCheckout}\r\n                                        className=\"block w-full bg-gradient-to-r from-pink-500 to-red-500 text-white text-center py-2 rounded-md hover:opacity-90 transition\"\r\n                                    >\r\n                                        ÂâçÂæÄÁµêÂ∏≥Ôºà{getTotalItems()} È†ÖÔºâ\r\n                                    </button>\r\n                                </div>\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}